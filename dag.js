fetch('./routes.json').then(r=>r.json()).then(data=>{const p=new URLSearchParams(window.location.search);const d=parseInt(p.get('dag'))||1;const dag=data.find(x=>x.dag===d);if(!dag)return;document.getElementById('dagTitel').textContent=`Dag ${dag.dag} - ${dag.locatie}`;document.getElementById('dagDatum').textContent=dag.datum;document.getElementById('dagAfbeelding').src=`img/${dag.afbeelding}`;const prog=document.getElementById('programma');dag.programma.forEach(p=>{const li=document.createElement('li');li.innerHTML=`<strong>${p.titel}</strong><br>${p.locatie}<br>ðŸ“ ${p.coordinaten.lat}, ${p.coordinaten.lng}`;prog.appendChild(li);});document.getElementById('vorigeDag').href=d>1?`dag.html?dag=${d-1}`:'#';document.getElementById('volgendeDag').href=d<data.length?`dag.html?dag=${d+1}`:'#';const map=L.map('map').setView([dag.programma[0].coordinaten.lat,dag.programma[0].coordinaten.lng],8);L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',{attribution:'&copy; OpenStreetMap'}).addTo(map);dag.programma.forEach(p=>{L.marker([p.coordinaten.lat,p.coordinaten.lng]).addTo(map).bindPopup(`<strong>${p.titel}</strong><br>${p.locatie}`)});});